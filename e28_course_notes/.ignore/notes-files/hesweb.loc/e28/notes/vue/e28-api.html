<!DOCTYPE html>
<html lang="en">

<head>
  <title>Notes: vue/e28-api</title>
  <meta charset="utf-8">

  <link rel="shortcut icon" href="../../../favicon/favicon.ico">

  <link href="../../../css/notes%EF%B9%96cachebust=20200305.css" rel="stylesheet">
  <style type="text/css">
    #searchResults #searchTerm {
      background-color: #ffffff;
      padding: 5px;
      margin-bottom: 10px;
      font-style: italic;
    }

    #searchResults .result {
      margin-top: 30px;
      padding: 10px;
    }

    #searchResults .context {
      border-left: 5px solid #eee;
      margin-top: 10px;
      padding: 10px;
    }

    #searchResults .highlight {
      background-color: yellow;
    }
  </style>
  <style type="text/css">
    /* Base16 Atelier Sulphurpool Light - Theme */
    /* by Bram de Haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/sulphurpool) */
    /* Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16) */

    /* Atelier-Sulphurpool Comment */
    .hljs-comment,
    .hljs-quote {
      color: #6b7394;
    }

    /* Atelier-Sulphurpool Red */
    .hljs-variable,
    .hljs-template-variable,
    .hljs-attribute,
    .hljs-tag,
    .hljs-name,
    .hljs-regexp,
    .hljs-link,
    .hljs-name,
    .hljs-selector-id,
    .hljs-selector-class {
      color: #c94922;
    }

    /* Atelier-Sulphurpool Orange */
    .hljs-number,
    .hljs-meta,
    .hljs-built_in,
    .hljs-builtin-name,
    .hljs-literal,
    .hljs-type,
    .hljs-params {
      color: #c76b29;
    }

    /* Atelier-Sulphurpool Green */
    .hljs-string,
    .hljs-symbol,
    .hljs-bullet {
      color: #ac9739;
    }

    /* Atelier-Sulphurpool Blue */
    .hljs-title,
    .hljs-section {
      color: #3d8fd1;
    }

    /* Atelier-Sulphurpool Purple */
    .hljs-keyword,
    .hljs-selector-tag {
      color: #6679cc;
    }

    .hljs {
      display: block;
      overflow-x: auto;
      background: #f5f7ff;
      color: #5e6687;
      padding: 0.5em;
    }

    .hljs-emphasis {
      font-style: italic;
    }

    .hljs-strong {
      font-weight: bold;
    }
  </style>
  <style type="text/css">
    /* Blueish */
    .highlight {
      background-color: #FFE787;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      font-weight: 600;
      line-height: 1.25;
    }

    h2 {
      font-size: 2.5rem;
      border-bottom: 1px solid #eaecef;
      padding-bottom: 0.3rem;
      margin-top: 60px;
    }

    h3 {
      font-size: 2rem;
    }

    span.heading-anchor {
      display: block;
      border: 1px solid red;
      position: relative;
      top: -75px;
      visibility: hidden;
    }

    a.heading-link:link,
    a.heading-link:visited,
    a.heading-link:active {
      color: #ddd;
      border-bottom: 0;
    }

    a.heading-link:hover {
      color: #005b96;
    }

    img {
      width: 100%;
      margin: 10px 0px;
    }

    p {
      line-height: 1.7;
    }

    pre {
      max-width: 100%;
      overflow-x: auto;
    }

    code {
      color: #B71C1C;
      background-color: #f8f8f8;
      padding: 3px 5px;
      font-size: 1.5rem;
      font-family: 'Roboto Mono', Monaco, courier, monospace;
    }

    #nav {
      border-top: 1px solid #eaecef;
      padding-top: 10px;
      margin-top: 20px;
    }

    a:link.nav,
    a:visited.nav {
      display: block;
      padding: 5px;
      border: 0;
    }

    a:link.nav#prev,
    a:visited.nav#prev {
      float: left;
    }

    a:link.nav#next,
    a:visited.nav#next {
      float: right;
    }

    .squareTag {
      border: 10px solid #aaa;
      /* Each tag will overwrite this with its own color */
      margin-top: 40px;
      margin-bottom: 40px;
      padding: 20px;
    }

    .squareTag .banner {
      text-align: center;
      font-size: 3rem;
      font-weight: bold;
    }

    .squareTag .icon {
      padding-right: 10px;
    }

    .squareTag h1,
    .squareTag h2,
    .squareTag h3,
    .squareTag h4,
    .squareTag h5,
    .squareTag h6 {
      color: #2b2b2b;
    }

    .important {
      border-color: #f9d9d9;
    }

    .important .banner {
      color: #f9d9d9;
    }

    .fyi {
      border-color: #f7f7f7;
    }

    .fyi .banner {
      color: #aaa;
    }

    #suggestAnEditButton {
      margin-bottom: 20px;
    }

    #suggestAnEdit {
      position: relative;
      font-size: 1.5rem;
      background-color: #f7f7f7;
      padding: 20px;
      margin-bottom: 20px;
    }

    #suggestAnEdit h2 {
      margin-top: 0;
    }

    #suggestAnEdit #cancelSuggestion {
      position: absolute;
      right: 10px;
      top: 10px;
      text-align: center;
    }

    #suggestAnEdit #cancelSuggestion:hover {
      color: #005b96;
      cursor: pointer;
    }

    #suggestAnEdit textarea {
      font-family: 'Courier New', Courier, monospace;
      width: 100%;
      height: 200px;
    }

    #suggestionConfirmation {
      border-radius: 3px;
      padding: 10px;
      margin-bottom: 30px;
      color: #2ECC40;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <div id="app">
    <header dusk="notesHeader">
      <h1><a href="https://hesweb.dev/e28">e28</a> |
        <a href="../../notes.html"><i class="fa fa-book"></i> Notes</a>
      </h1>
    </header>
    <menu>
      <ul>
        <li class="level-0">Misc

          <ul>
            <li><a href="../misc/e28-about.html" class="">About the notes</a></li>
            <li><a href="../misc/philosophy.html" class="">Learning philosophies</a></li>
            <li><a href="../misc/e28-intro.html" class="">Course introduction</a></li>
            <li><a href="../misc/markdown.html" class="">Markdown</a></li>
            <li><a href="../misc/vscode.html" class="">VSCode</a></li>
          </ul>
        </li>
        <li class="level-0">Command line

          <ul>
            <li><a href="../command-line/intro.html" class="">Introduction</a></li>
            <li><a href="../command-line/mac-terminal.html" class="">Mac Terminal</a></li>
            <li><a href="../command-line/windows-cmder.html" class="">Windows Cmder</a></li>
            <li><a href="../command-line/primer.html" class="">Primer</a></li>
            <li><a href="../command-line/nano.html" class="">Text editing with Nano</a></li>
            <li><a href="../command-line/common-commands.html" class="">Common commands</a></li>
          </ul>
        </li>
        <li class="level-0">Local server

          <ul>
            <li><a href="../local-server/intro.html" class="">Introduction</a></li>
            <li><a href="../local-server/xampp-mac.html" class="">Mac - XAMPP</a></li>
            <li><a href="../local-server/xampp-windows.html" class="">Windows - XAMPP</a></li>
            <li><a href="../local-server/local-domains.html" class="">Local domains</a></li>
          </ul>
        </li>
        <li class="level-0">Git

          <ul>
            <li><a href="../git/intro.html" class="">Introduction</a></li>
            <li><a href="../git/setup.html" class="">Setup</a></li>
            <li><a href="../git/github.html" class="">Github</a></li>
            <li><a href="../git/repository-setup.html" class="">Repository setup</a></li>
            <li><a href="../git/tracking-changes.html" class="">Tracking changes</a></li>
          </ul>
        </li>
        <li class="level-0">Production server

          <ul>
            <li><a href="../production-server/setup.html" class="">DigitalOcean setup</a></li>
            <li><a href="../production-server/production-domains.html" class="">Production domains</a></li>
            <li><a href="../production-server/deploying.html" class="">Deploying</a></li>
            <li><a href="../production-server/summary.html" class="">Summary</a></li>
            <li><a href="../production-server/https.html" class="">HTTPS</a></li>
            <li><a href="../production-server/static-hosting.html" class="">Static hosting</a></li>
          </ul>
        </li>
        <li class="level-0">JavaScript

          <ul>
            <li><a href="../javascript/review.html" class="">Review</a></li>
            <li><a href="../javascript/evolution.html" class="">Evolution</a></li>
          </ul>
        </li>
        <li class="level-0">Vue.js essentials

          <ul>
            <li><a href="intro.html" class="">Introduction</a></li>
            <li><a href="behind-the-scenes.html" class="">Behind the scenes</a></li>
            <li><a href="vue3.html" class="">Vue 3</a></li>
            <li><a href="conditional-rendering.html" class="">Conditional rendering</a></li>
            <li><a href="list-rendering.html" class="">List rendering</a></li>
            <li><a href="event-handling.html" class="">Event handling</a></li>
            <li><a href="attribute-binding.html" class="">Attribute binding</a></li>
            <li><a href="form-input-binding.html" class="">Form input binding</a></li>
            <li><a href="computed-properties.html" class="">Computed properties</a></li>
            <li><a href="watchers.html" class="">Watchers</a></li>
            <li><a href="lifecycle-hooks.html" class="">Lifecycle hooks</a></li>
          </ul>
        </li>
        <li class="level-0">Vue.js components

          <ul>
            <li><a href="components.html" class="">Components</a></li>
            <li><a href="components-props.html" class="">Props</a></li>
            <li><a href="components-events.html" class="">Events</a></li>
            <li><a href="components-slots.html" class="">Slots</a></li>
            <li><a href="single-file-components.html" class="">Single file components</a></li>
          </ul>
        </li>
        <li class="level-0">Build systems

          <ul>
            <li><a href="build-systems.html" class="">Introduction</a></li>
            <li><a href="package-management.html" class="">Package management (NPM)</a></li>
            <li><a href="build-integrated-local.html" class="">Integrated build - Local</a></li>
            <li><a href="build-integrated-production.html" class="">Integrated build - Production</a></li>
            <li><a href="build-comprehensive.html" class="">Comprehensive build (Vue CLI)</a></li>
          </ul>
        </li>
        <li class="level-0">Applications

          <ul>
            <li><a href="applications-intro.html" class="">Introduction</a></li>
            <li><a href="zipfoods-start.html" class="">Building ZipFoods</a></li>
            <li><a href="diy-spa.html" class="">DIY SPA</a></li>
            <li><a href="vue-router.html" class="">Vue Router</a></li>
            <li><a href="vue-router-production.html" class="">Vue Router on production</a></li>
            <li><a href="apis.html" class="">Server APIs</a></li>
            <li><a href="e28-api.html" class="router-link-exact-active router-link-active">e28-api</a></li>
            <li><a href="ajax.html" class="">Ajax - Client/Server communication</a></li>
            <li><a href="local-storage.html" class="">Local storage</a></li>
            <li><a href="add-to-cart.html" class="">Add to cart</a></li>
            <li><a href="vuex.html" class="">State management w/ Vuex</a></li>
            <li><a href="auth-intro.html" class="">Auth: Intro &amp; config</a></li>
            <li><a href="auth-usage.html" class="">Auth: Usage</a></li>
            <li><a href="auth-prod.html" class="">Auth: Production</a></li>
            <li><a href="testing.html" class="">Testing: Introduction</a></li>
            <li><a href="testing-e2e.html" class="">Testing: E2E</a></li>
            <li><a href="validation.html" class="">Validation</a></li>
            <li><a href="composition-api.html" class="">Composition API</a></li>
          </ul>
        </li>
        <li class="level-0">Appendix

          <ul>
            <li><a href="../appendix/apache-configs.html" class="">Apache configs</a></li>
          </ul>
        </li>
      </ul>
    </menu>
    <div id="main">
      <div id="centerInMain">
        <div id="notesComponent">
          <div id="notes">
            <h1 id="jump-e28-api"><span id="e28-api" class="heading-anchor"></span><a href="#e28-api"
                 class="heading-link"><i class="fa fa-link"></i> </a> e28-api</h1>
            <p>Building a server-side API is a topic unto itself - in fact, I have an entire course devoted to
              server-side development: <a href="https://hesweb.dev/e15">e15 Web Server Frameworks with Laravel/PHP</a>.
            </p>
            <p>Because we don’t have time to do a deep dive on server-side development, I have put together a
              pre-built/self-generating API system (called <em>e28-api</em>) for us to practice with and use within your
              projects.</p>
            <p><strong>Example:</strong></p>
            <ul>
              <li>Dashboard: <a href="http://e28-api.hesweb.dev">http://e28-api.hesweb.dev</a>
              </li>
              <li>Index of products: <a
                   href="../../../../e28-api.hesweb.dev/product.json">https://e28-api.hesweb.dev/product</a>
              </li>
              <li>Show an individual product: <a
                   href="../../../../e28-api.hesweb.dev/product/1.json">https://e28-api.hesweb.dev/product/1</a>
              </li>
            </ul>
            <p><strong>Some key points about this system:</strong></p>
            <ul>
              <li>Built with <a href="http://laravel.com">Laravel</a> and PHP (but does not require any knowledge of
                PHP)</li>
              <li>Designed to be used on our DigitalOcean servers, but adaptable to other Apache servers if they have
                PHP installed</li>
              <li>Uses a SQLite database</li>
              <li>Includes a user authentication system powered by <a href="https://laravel.com/docs/sanctum">Laravel
                  Sanctum</a>
              </li>
              <li>Provides CRUD (Create, Read, Update, Delete) functionality for resources</li>
              <li>Follows a <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST
                  (Representational state transfer)</a> pattern</li>
              <li>Supports data seeding of resources</li>
              <li>Intended for practice/demo purposes only</li>
            </ul>
            <p><strong>In this note set, we will cover setting up the API on both your local and production
                server.</strong></p>
            <ul>
              <li>The local version will be the API your local Vue apps will communicate with. It will also be where you
                configure <strong>resources</strong> and <strong>seeds</strong> (discussed below).</li>
              <li>The production version will be the API your production Vue apps will communicate with.</li>
            </ul>
            <h2 id="jump-setup-local"><span id="setup-local" class="heading-anchor"></span><a href="#setup-local"
                 class="heading-link"><i class="fa fa-link"></i> </a> Setup - Local</h2>
            <p>To set up locally, run the following commands to clone the API within your <em>htdocs/e28</em> directory
              and remove its git history:</p>
            <pre v-pre><code v-pre class="language-bash hljs">$ <span class="hljs-built_in">cd</span> /path/to/htdocs/e28
$ git <span class="hljs-built_in">clone</span> git@github.com:susanBuck/e28-api.git
$ rm -rf e28-api/.git
</code></pre>
            <p>The first step to using this API is to run a script that will do the initial set up of the API using some
              pre-defined configurations. You can run this script by invoking the following command within
              <em>htdocs/e28/e28-api</em>:
            </p>
            <pre v-pre><code v-pre class="language-bash hljs">$ bash setup
</code></pre>
            <p>Assuming all goes well, you should see output similar to the following:</p>
            <pre v-pre><code v-pre class="language-xml hljs">===&gt; Detecting system
* Setup script version: 1.0.2
* Server: local
* PHP executable: /Applications/XAMPP/xamppfiles/bin/php
* API directory: /Applications/XAMPP/xamppfiles/htdocs/e28/temp/e28-api/
* Core directory: /Applications/XAMPP/xamppfiles/htdocs/e28/temp/e28-api/core/
* Public directory: /Applications/XAMPP/xamppfiles/htdocs/e28/temp/e28-api/core/public/

===&gt; Updating e28-api-core
Cloning into '.'...
remote: Enumerating objects: 9155, done.
remote: Counting objects: 100% (9155/9155), done.
remote: Compressing objects: 100% (6019/6019), done.
remote: Total 9155 (delta 3030), reused 8982 (delta 2857), pack-reused 0
Receiving objects: 100% (9155/9155), 10.11 MiB | 5.04 MiB/s, done.
Resolving deltas: 100% (3030/3030), done.
Checking connectivity... done.

===&gt; Setting up database
Created /core/database/database.sqlite

===&gt; Laravel initial setup
Local: Setting write permissions on directories that Apache needs write access to
Creating environment file (.env)
Generating app key
Application key set successfully.

===&gt; Expected Virtual Host:

<span class="hljs-tag">&lt;<span class="hljs-name">VirtualHost</span> *<span class="hljs-attr">:80</span>&gt;</span>
    ServerName e28-api.loc
    DocumentRoot /Applications/XAMPP/xamppfiles/htdocs/e28/temp/e28-api/core/public/
    <span class="hljs-tag">&lt;<span class="hljs-name">Directory</span> /<span class="hljs-attr">Applications</span>/<span class="hljs-attr">XAMPP</span>/<span class="hljs-attr">xamppfiles</span>/<span class="hljs-attr">htdocs</span>/<span class="hljs-attr">e28</span>/<span class="hljs-attr">temp</span>/<span class="hljs-attr">e28-api</span>/<span class="hljs-attr">core</span>/<span class="hljs-attr">public</span>/&gt;</span>
        AllowOverride All
        Options -Indexes
        Require all granted
    <span class="hljs-tag">&lt;/<span class="hljs-name">Directory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">VirtualHost</span>&gt;</span>


===&gt; Build API
Resources created: 
* product
* favorite

Seeds run: 
* product (10 rows added)
* favorite (2 rows added)
* user (2 rows added)
</code></pre>
            <p>To access the API set up a <a href="../local-server/local-domains.html">local domain</a>,
              <em>http://e28-api.loc</em>, that has a document root pointing to
              <code v-pre>/path/to/htdocs/e28-api/core/public</code> (the setup script you just ran includes a
              pre-filled
              Virtual Host block you can use for this).
            </p>
            <p>With this set up, when you visit <em>http://e28-api.loc</em> you should see the API dashboard.</p>
            <h2 id="jump-api-dashboard"><span id="api-dashboard" class="heading-anchor"></span><a href="#api-dashboard"
                 class="heading-link"><i class="fa fa-link"></i> </a> API Dashboard</h2>
            <img src="../../../../s3.amazonaws.com/making-the-internet/vue-api-dashboard@2x.png"
                 style="max-width:766px;" alt="">
            <p>The API dashboard provides a way for you, the developer, to see the following information:</p>
            <ul>
              <li>Security Configs (details about these configs will be covered in Week 14 when we go over
                authentication)</li>
              <li>Routes</li>
              <li>Database content</li>
            </ul>
            <p>Because this API is designed for demonstration purposes, the API dashboard is publicly viewable. In a
              real-world application, this information should be restricted.</p>
            <h2 id="jump-resources"><span id="resources" class="heading-anchor"></span><a href="#resources"
                 class="heading-link"><i class="fa fa-link"></i> </a> Resources</h2>
            <p>Within the API, a <strong>resource</strong> represents a specific entity of your application. The API
              comes set up with 2 example resources, relevant to ZipFoods:</p>
            <ol>
              <li>
                <code v-pre>product</code>
              </li>
              <li>
                <code v-pre>favorite</code>
              </li>
            </ol>
            <p>To configure resources for your API, you’ll update the resources JSON object at
              <code v-pre>/resources.json</code>.
            </p>
            <p>Each property of this JSON object is a single resource, and each resource has a series of
              <strong>fields</strong> with a <strong>type</strong> and an array of <strong>validators</strong>.
            </p>
            <img src="../../../../s3.amazonaws.com/making-the-internet/vue-resources-file@2x.png"
                 style="max-width:600px;" alt="">
            <p>See the section <a href="#field-validation"><em>Field validation</em></a> below for details on available
              <strong>types</strong> and <strong>validators</strong>.
            </p>
            <p>See the section <a href="#naming-conventions"><em>Naming conventions</em></a> below for details on naming
              conventions for resource and field names.</p>
            <h2 id="jump-defaults"><span id="defaults" class="heading-anchor"></span><a href="#defaults"
                 class="heading-link"><i class="fa fa-link"></i> </a> Defaults</h2>
            <p>By default, the API is pre-configured with a <code v-pre>user</code> resource used for the
              authentication
              system; this resource can not be customized.</p>
            <p>By default, <em>every</em> resource will include the following pre-configured fields which you can
              not/should not define:</p>
            <ul>
              <li>
                <code v-pre>id</code>
              </li>
              <li>
                <code v-pre>created_at</code>
              </li>
              <li>
                <code v-pre>updated_at</code>
              </li>
            </ul>
            <p>These fields are automatically populated when creating/editing resources.</p>
            <h2 id="jump-naming-conventions"><span id="naming-conventions" class="heading-anchor"></span><a
                 href="#naming-conventions" class="heading-link"><i class="fa fa-link"></i> </a> Naming conventions</h2>
            <ul>
              <li>Field names should be written in <a
                   href="https://en.wikipedia.org/wiki/Snake_case"><strong>lower_snake_case</strong></a> style (e.g.
                <code v-pre>sku</code>, <code v-pre>name</code>, <code v-pre>postal_code</code>, etc.)
              </li>
              <li>Resources names should be <strong>singular</strong> and <strong>lowercase</strong>.</li>
              <li>Resource names can only contain letters - no numbers or special characters.</li>
              <li>Single-word resource names are preferable; multi-word resource names should be written in
                <code v-pre>lowerCamelCase</code> style.
              </li>
            </ul>
            <p>✅ Valid resource name examples:</p>
            <ul>
              <li>
                <code v-pre>product</code>
              </li>
              <li>
                <code v-pre>favorite</code>
              </li>
              <li>
                <code v-pre>blogPost</code> (<code v-pre>post</code> would be preferable)
              </li>
            </ul>
            <p>❌ Invalid resource name examples:</p>
            <ul>
              <li>
                <code v-pre>products</code>
              </li>
              <li>
                <code v-pre>Favorite</code>
              </li>
              <li>
                <code v-pre>BlogPost</code>
              </li>
              <li>
                <code v-pre>blog-post</code>
              </li>
            </ul>
            <h2 id="jump-field-validation"><span id="field-validation" class="heading-anchor"></span><a
                 href="#field-validation" class="heading-link"><i class="fa fa-link"></i> </a> Field validation</h2>
            <p>Any data passed to the API for a given field that does not match the given type or meet the validator
              requirements will be rejected with an error.</p>
            <p><strong>Available types:</strong></p>
            <ul>
              <li>
                <code v-pre>string</code> (supports up to 255 characters)
              </li>
              <li>
                <code v-pre>text</code> (used for longer form text content that would exceed the limits of
                <code v-pre>string</code>)
              </li>
              <li>
                <code v-pre>integer</code>
              </li>
              <li>
                <code v-pre>float</code>
              </li>
              <li>
                <code v-pre>boolean</code>
              </li>
              <li>
                <code v-pre>timestamp</code>
              </li>
            </ul>
            <p><strong>Available validators:</strong></p>
            <ul>
              <li>
                <code v-pre>required</code> The field under validation must be present in the input data and not empty.
              </li>
              <li>
                <code v-pre>min:5</code> The field under validation must be less than or equal to a minimum value
                (example
                given here is <code v-pre>5</code>).
              </li>
              <li>
                <code v-pre>max:10</code> The field under validation must be less than or equal to a maximum value
                (example
                given here is <code v-pre>10</code>).
              </li>
              <li>
                <code v-pre>alpha</code> The field under validation must be entirely alphabetic characters.
              </li>
              <li>
                <code v-pre>alpha_num</code> The field under validation must be entirely alpha-numeric characters.
              </li>
              <li>
                <code v-pre>alpha_dash</code> The field under validation may have alpha-numeric characters, as well as
                dashes
                and underscores.
              </li>
              <li>
                <code v-pre>numeric</code> The field under validation must be numeric.
              </li>
              <li>
                <code v-pre>email</code> The field under validation must be formatted as an e-mail address.
              </li>
              <li>
                <code v-pre>boolean</code> The field under validation must be able to be cast as a boolean.
              </li>
              <li>
                <code v-pre>unique</code> The value for the field under validation must be unique (e.g. the
                <em>product</em>
                resource has a field <em>sku</em> with the <em>unique</em> validator so you can not have more than one
                product with the same <em>sku</em>).
              </li>
            </ul>
            <p><strong>Note: type/validators are required</strong></p>
            <p>Every field must have a <em>type</em>.</p>
            <p>If a field does not need any validation, set <em>validators</em> to an empty array <code
                    v-code>[]</code>.</p>
            <p>e.g.:</p>
            <pre v-pre><code class="hljs prolog"><span class="hljs-string">"product"</span>: {
    <span class="hljs-string">"name"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"string"</span>,
        <span class="hljs-string">"validators"</span>: []
    },
</code></pre>
            <h2 id="jump-seeds"><span id="seeds" class="heading-anchor"></span><a href="#seeds" class="heading-link"><i
                   class="fa fa-link"></i> </a> Seeds</h2>
            <p>To seed your database with example data, create seed configuration files in <code v-pre>/seeds</code>.
              See the
              provided <code v-pre>favorite.json</code>, <code v-pre>product.json</code>, and <code
                    v-code>user.json</code> seeder files
              for example.</p>
            <p>Each seed file should be named according to the resource it seeds. For example, for the
              <code v-pre>product</code> resource there’s an example <code v-pre>/seeds/product.json</code> file.
            </p>
            <p>The JSON object in the seed files should have a single key, <code v-pre>seeds</code>, set to an array of
              data
              objects for each individual row of data to be added.</p>
            <img src="../../../../s3.amazonaws.com/making-the-internet/vue-example-seed-file@2x.png"
                 style="max-width:600px;" alt="">
            <h2 id="jump-auth-required-resources"><span id="auth-required-resources" class="heading-anchor"></span><a
                 href="#auth-required-resources" class="heading-link"><i class="fa fa-link"></i> </a> Auth-required
              resources</h2>
            <p>Any resource with a field called <code v-pre>user_id</code> will require authentication; the provided
              <em>favorite</em> resource is an example of an auth-required resource.
            </p>
            <p>The authenticating user will only have access to rows where their <code v-pre>id</code> matches the
              <code v-pre>user_id</code> of the given row. This means...
            </p>
            <ul>
              <li>the <strong>index</strong> and <strong>query</strong> routes will only return rows belonging to the
                authenticating user.</li>
              <li>the <strong>show</strong>, <strong>store</strong>, <strong>update</strong>, and
                <strong>delete</strong> routes will only work if the impacted row belongs to the authenticating user.
              </li>
            </ul>
            <img src="../../../../s3.amazonaws.com/making-the-internet/vue-auth-required-example@2x.png"
                 style="max-width:865px;" alt="">
            <div markdown="1" class="squareTag fyi">
              <div class="banner"><i class="icon fa fa-info-circle"></i>FYI</div>
              Authentication is covered in Week 14. For more details, see these notes:
              <ul>
                <li>
                  <a href="auth-intro.html">Authentication: Introduction &amp; Configuration</a>
                </li>
                <li>
                  <a href="../auth-usage.html">Authentication: Usage</a>
                </li>
              </ul>
            </div>
            <h2 id="jump-rebuilding"><span id="rebuilding" class="heading-anchor"></span><a href="#rebuilding"
                 class="heading-link"><i class="fa fa-link"></i> </a> Rebuilding</h2>
            <p>Whenever you make edits to resources or seeds, you need to rebuild the API by running the setup script
              again:</p>
            <pre v-pre><code v-pre class="language-bash hljs">$ bash setup
</code></pre>
            <p>Note that rebuilding the API will always clear out any data that your application has generated. This is
              expected/okay as we are only using this API for practice purposes, and not in a real-world application.
            </p>
            <h2 id="jump-setup-production"><span id="setup-production" class="heading-anchor"></span><a
                 href="#setup-production" class="heading-link"><i class="fa fa-link"></i> </a> Setup - Production</h2>
            <div markdown="1" class="squareTag fyi">
              <div class="banner"><i class="icon fa fa-info-circle"></i>FYI</div>
              <p>If you are using a server other than DigitalOcean, you will need to edit the value set for
                <code v-pre>productionApacheUser</code> at the top of the <code v-pre>./setup</code> script.
              </p>
            </div>
            <p>Synchronize your e28 repository so that the <em>e28-api</em> application is available on production at
              <code v-pre>/var/www/html/e28/e28-api</code>. This will make it so all of the resources and seeds you
              configured
              locally will be available on production.
            </p>
            <p>Run the setup script on production:</p>
            <pre v-pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> /var/www/html/e28/e28-api</span>
<span class="hljs-meta">$</span><span class="bash"> bash setup</span>
</code></pre>
            <p>The first time you run the setup script on DigitalOcean, it will install some additional software your
              server will need to run the API. Follow the instructions on screen whenever prompted to continue with the
              installation.</p>
            <p>Once setup is complete, configure a production domain, <em>http://e28-api.yourdomain.com</em>, so that
              its document root is <code v-pre>/var/www/html/e28-api/core/public</code>.</p>
            <p>Example Virtual Host:</p>
            <pre v-pre><code class="hljs apache"><span class="hljs-section">&lt;VirtualHost *:80&gt;</span>
    <span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span> e28-api.yourdomain.com
    <span class="hljs-attribute"><span class="hljs-nomarkup">DocumentRoot</span></span> /var/www/html/e28/e28-api/core/public/
    <span class="hljs-section">&lt;Directory /var/www/html/e28/e28-api/core/public/&gt;</span>
        <span class="hljs-attribute">AllowOverride</span> <span class="hljs-literal">All</span>
        <span class="hljs-attribute"><span class="hljs-nomarkup">Options</span></span> -Indexes
        <span class="hljs-attribute">Require</span> <span class="hljs-literal">all</span> granted
    <span class="hljs-section">&lt;/Directory&gt;</span>
<span class="hljs-section">&lt;/VirtualHost&gt;</span>
</code></pre>
            <p>The production version of your API should now be available at <em>http://e28-api.yourdomain.com</em> and
              this should be the URL your application sends Ajax requests to when running on production.</p>
            <div markdown="1" class="squareTag fyi">
              <div class="banner"><i class="icon fa fa-info-circle"></i>FYI</div>
              <p>See <a href="ajax.html#axios-config-on-production-environment-variables">Axios config on production -
                  environment variables</a> to learn how to configure your application to use a different API url
                depending on the mode in which the application is running.</p>
            </div>
            <h2 id="jump-behind-the-scenes"><span id="behind-the-scenes" class="heading-anchor"></span><a
                 href="#behind-the-scenes" class="heading-link"><i class="fa fa-link"></i> </a> Behind the scenes</h2>
            <div markdown="1" class="squareTag fyi">
              <div class="banner"><i class="icon fa fa-info-circle"></i>FYI</div>
              <p>The following information explains how the underlying e28-api system works. This is presented here as
                “FYI” for those that are curious. Studying the inner workings of the API is not required.</p>
            </div>
            <p>The repo you clone, <a href="https://github.com/susanBuck/e28-api">susanBuck/e28-api</a>, is not actually
              the “core” of the API - it’s just a skeleton that contains the resource and seed configuration files as
              well as the <em>setup</em> script.</p>
            <p>When the <em>setup</em> script is invoked, it clones (or updates) <a
                 href="https://github.com/susanBuck/e28-api-core">susanBuck/e28-api-core</a> which is the actual API
              system built with Laravel.</p>
            <p>This API system abstracts all of the coding work necessary to build an API. You can think of it as
              “self-generating” - it uses the resource configuration files you write to generate the following code
              files:</p>
            <ol>
              <li>Controllers and routes to manage incoming requests</li>
              <li>Models to communicate with the database</li>
              <li>Validation requests to validate incoming data</li>
            </ol>
            <p>If you want to “pop the hood” to see the inner workings of the API, explore the following
              directories/files:</p>
            <ul>
              <li>
                <code v-pre>/core/app/Http/Controllers/GeneratedControllers/</code>
              </li>
              <li>
                <code v-pre>/core/app/Models/GeneratedModels/</code>
              </li>
              <li>
                <code v-pre>/core/app/Http/Requests/GeneratedRequests/</code>
              </li>
              <li>
                <code v-pre>/core/routes/generated-routes.php</code>
              </li>
            </ul>
            <p>Note though, that you should not directly edit any of the files found here, as they will only be
              overwritten the next time you run <em>setup</em>.</p>
          </div>
        </div>
      </div>
    </div>
  </div>



  <script type="text/javascript">
  document.write=function() {};
  document.writeln=function() {};
  </script>

  <script>
    // Make data available to Vue
    var course = { "key": "e28", "path": "\/e28", "listing": "DGMD E-28", "name": "Single-Page Applications \u0026 Interfaces with Vue.js", "header": "DGMD E-28 \u003Cbr\u003ESingle-Page Apps \u0026 Interfaces w\/ Vue.js", "lectureDay": "Tuesday", "lectureTime": "8pm Eastern", "startDay": "Tue Sep 1", "shortName": "", "quickLinks": 1, "youtubePlaylist": "", "projects": { "p1": { "published": true, "id": "p1", "title": "Project 1: Fundamentals", "week": 7, "due": "Tue Oct 20 @ 11:59pm Eastern", "readme": "https:\/\/gist.github.com\/susanBuck\/c1bc32abf6984bddd1d9120e4c9520b6" }, "p2": { "published": true, "id": "p2", "title": "Project 2: SPA, SFCs, server interaction", "week": 11, "due": "Tue Nov 17 @ 11:59pm Eastern", "readme": "https:\/\/gist.github.com\/susanBuck\/f48844c9e23f4b411c82ec4b58291c38" }, "p3": { "published": true, "id": "p3", "title": "Project 3: Vuex, authentication, validation, testing", "week": 14, "due": "Tue Dec 15 @ 11:59pm Eastern", "readme": "https:\/\/gist.github.com\/susanBuck\/34be9f2a870df428595633fca86dd2fe" } }, "links": { "forum": "https:\/\/github.com\/susanBuck\/e28-fall20\/issues", "canvas": "https:\/\/canvas.harvard.edu\/courses\/79543", "canvasAssignments": "https:\/\/canvas.harvard.edu\/courses\/79543\/assignments" }, "nav": { "COURSE INFO": { "\/e28\/": "Home", "\/e28\/prereq": "Prerequisites", "\/e28\/policies": "Policies", "\/e28\/work": "Work \u0026 Grading", "\/e28\/software": "Software", "\/e28\/forum-about": "Forum" }, "Fall 2020": { "\/e28\/schedule": "Schedule\/Topics", "\/e28\/projects": "Projects" } } };
    var user = null;

  </script>
  <script src="../../../js/notes.js"></script>



</body>

</html>